<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<select name="" id="province"></select>
		<select name="" id="city"></select>
		<select name="" id="count"></select>
		<script type="text/javascript" src="china.js"></script>
		<script type="text/javascript">
			var province = document.getElementById('province');
			var city = document.getElementById('city');
			var count = document.getElementById('count');
			
			var chinaArea = JSON.parse(chinaArea);
			//获取所有省份
			var provinceList = chinaArea.china.province;
			for (var i=0;i<provinceList.length;i++) {
				var option = document.createElement("option");
				option.innerHTML=provinceList[i]["-name"];
				province.appendChild(option);
			}
			
			province.onchange = function(){
				cityDate();
				countData();
			}
			cityDate();
			var pIndex = 0;
			var cityIndex = 0;
			function cityDate(){
				city.innerHTML = "";
				pIndex = province.selectedIndex;
			
			for (var j=0;j<provinceList[pIndex].city.length;j++) {
				var option = document.createElement('option');
				option.innerHTML=provinceList[pIndex].city[j]["-name"];
				city.appendChild(option);
				}
			}
			
			
			
			function countData(){
				count.innerHTML="";
				cityIndex = city.selectedIndex;
				var countLast = chinaArea .china.province[pIndex].city[cityIndex].county;
				for (var k=0;k<countLast.length;k++) {
					var option = document.createElement("option");
					option.innerHTML = countLast[k]["-name"];
					count.appendChild(option);
				}
			}
			city.onchange = function(){
				countData();
			}
			countData();
		</script>
	</body>
</html>
